{"ast":null,"code":"var _jsxFileName = \"/home/parth/Projects/ReactProjects/bike-rental/src/pages/BikeDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from \"react\";\nimport \"flickity-imagesloaded\";\nimport Header from \"../components/Header\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport \"../components/main.css\";\nimport axios from \"axios\";\nimport \"flickity/dist/flickity.min.css\";\nimport user_img from \"../assets/icons/user-silhouette.png\";\nimport dashboard from \"../assets/icons/dashboard.png\";\nimport shift from \"../assets/icons/shift.png\";\nimport bikeImg from \"../assets/icons/bike.png\";\nimport rupeeSign from \"../assets/icons/rupee.svg\";\nimport { Button } from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport { URLSearchParams } from \"url\"; // const congratsMsg = \"Congrats you booked a fake \";\n// const rewardMsg = \"\\nCheck the console (F12)  for your reward\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BikeDetails() {\n  _s();\n\n  let currentID;\n  const [bike, setCurrentbike] = React.useState();\n  const [isLoading, setIsLoading] = React.useState(true);\n  const checkStyle = {\n    height: \"18px\"\n  };\n  const user = useSelector(state => state.user);\n  useEffect(() => {\n    currentID = window.location.href.split(\"/\")[4];\n    axios.get(\"http://localhost:5000/bikes/\" + currentID).then(res => {\n      setCurrentbike(res.data);\n      setIsLoading(false);\n      console.log(res.data);\n    });\n  }, []);\n\n  const bookbike = bike_id => {\n    fetch(`http://localhost:5000/rentabike?customer=${user.userDetails._id}&bike=${bike_id}&days=1`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${user.token}`\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        console.log(\"Booking successful\");\n        setCurrentbike({ ...bike,\n          availablebikes: 0\n        });\n        alert(\"Booking successful\");\n      } else {\n        console.log(\"Booking failed\");\n      }\n    }); // axios\n    //   .get(\n    //     \"http://localhost:5000/rentabike\",\n    //     {\n    //       params: { bike: bike_id, customer: user.userDetails._id, days: 1 },\n    //     },\n    //     {\n    //       headers: {\n    //         \"Content-Type\": \"application/json\",\n    //         Authorization: `Bearer ${user.token}`,\n    //       },\n    //     }\n    //   )\n    //   .then((res) => {\n    //     alert(res.data);\n    //   });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Singlebike\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      pageName: \"Bike Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"SinglebikeContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SinglebikeImgs box-shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: bike.images,\n          alt: bike.name,\n          className: \"SinglebikeImg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SinglebikeDescription box-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SinglebikeDescriptionH1\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: bike.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SinglebikeSpecs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeSpec\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"SinglebikeSpecImg\",\n              src: user_img,\n              alt: \"seats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [bike.seats, \" Seats\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeSpec\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"SinglebikeSpecImg\",\n              src: shift,\n              alt: \"transmission\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeSpec\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"SinglebikeSpecImg\",\n              src: bikeImg,\n              alt: \"bike doors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [bike.doors, \" Doors\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeSpec\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"SinglebikeSpecImg\",\n              src: dashboard,\n              alt: \"mpg dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [bike.mpg, \" mpg\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SinglebikeFeatures\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeFeature\",\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              style: checkStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Audio Input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeFeature\",\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              style: checkStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Bluetooth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeFeature\",\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              style: checkStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Heated Seats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeFeature\",\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              style: checkStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"All Wheel Drive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeFeature\",\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              style: checkStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"A/C & Heating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikeFeature\",\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              style: checkStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Dual Airbags\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: bike.availablebikes ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"greenyellow\"\n            },\n            children: \"bike Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"red\"\n            },\n            children: \"bike Not Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SinglebikePrice\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SinglebikePriceH2\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: rupeeSign,\n              alt: \"dollar sign\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [bike.price, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Per Day\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"success\",\n            disabled: bike.availablebikes === 0,\n            style: {\n              width: \"auto\",\n              margin: \"8px 0 40px 0\"\n            },\n            onClick: () => bookbike(bike._id),\n            children: \"Book Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SinglebikeSimilarH3\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Similar Vehicles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BikeDetails, \"UJDKTUFkQ7BGc1U06PlpBmCy5wU=\", false, function () {\n  return [useSelector];\n});\n\n_c = BikeDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"BikeDetails\");","map":{"version":3,"sources":["/home/parth/Projects/ReactProjects/bike-rental/src/pages/BikeDetails.js"],"names":["React","useRef","useEffect","Header","CheckIcon","axios","user_img","dashboard","shift","bikeImg","Button","useSelector","URLSearchParams","BikeDetails","currentID","bike","setCurrentbike","useState","isLoading","setIsLoading","checkStyle","height","user","state","window","location","href","split","get","then","res","data","console","log","bookbike","bike_id","fetch","userDetails","_id","method","credentials","headers","Authorization","token","status","availablebikes","alert","images","name","seats","doors","mpg","textAlign","color","rupeeSign","price","width","margin"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport \"flickity-imagesloaded\";\nimport Header from \"../components/Header\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport \"../components/main.css\";\nimport axios from \"axios\";\nimport \"flickity/dist/flickity.min.css\";\nimport user_img from \"../assets/icons/user-silhouette.png\";\nimport dashboard from \"../assets/icons/dashboard.png\";\nimport shift from \"../assets/icons/shift.png\";\nimport bikeImg from \"../assets/icons/bike.png\";\nimport rupeeSign from \"../assets/icons/rupee.svg\";\nimport { Button } from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport { URLSearchParams } from \"url\";\n// const congratsMsg = \"Congrats you booked a fake \";\n\n// const rewardMsg = \"\\nCheck the console (F12)  for your reward\";\n\nexport default function BikeDetails() {\n  let currentID;\n  const [bike, setCurrentbike] = React.useState();\n  const [isLoading, setIsLoading] = React.useState(true);\n  const checkStyle = {\n    height: \"18px\",\n  };\n  const user = useSelector((state) => state.user);\n\n  useEffect(() => {\n    currentID = window.location.href.split(\"/\")[4];\n    axios.get(\"http://localhost:5000/bikes/\" + currentID).then((res) => {\n      setCurrentbike(res.data);\n      setIsLoading(false);\n      console.log(res.data);\n    });\n  }, []);\n\n  const bookbike = (bike_id) => {\n    fetch(\n      `http://localhost:5000/rentabike?customer=${user.userDetails._id}&bike=${bike_id}&days=1`,\n      {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${user.token}`,\n        },\n      }\n    ).then((res) => {\n      if (res.status === 200) {\n        console.log(\"Booking successful\");\n        setCurrentbike({ ...bike, availablebikes: 0 });\n        alert(\"Booking successful\");\n      } else {\n        console.log(\"Booking failed\");\n      }\n    });\n\n    // axios\n    //   .get(\n    //     \"http://localhost:5000/rentabike\",\n    //     {\n    //       params: { bike: bike_id, customer: user.userDetails._id, days: 1 },\n    //     },\n    //     {\n    //       headers: {\n    //         \"Content-Type\": \"application/json\",\n    //         Authorization: `Bearer ${user.token}`,\n    //       },\n    //     }\n    //   )\n    //   .then((res) => {\n    //     alert(res.data);\n    //   });\n  };\n\n  return (\n    <div className=\"Singlebike\">\n      <Header pageName=\"Bike Details\" />\n      {!isLoading ? (\n        <div className=\"SinglebikeContainer\">\n          <div className=\"SinglebikeImgs box-shadow\">\n            <img src={bike.images} alt={bike.name} className=\"SinglebikeImg\" />\n          </div>\n          <div className=\"SinglebikeDescription box-shadow\">\n            <div className=\"SinglebikeDescriptionH1\">\n              <h1>{bike.name}</h1>\n            </div>\n            <div className=\"SinglebikeSpecs\">\n              <div className=\"SinglebikeSpec\">\n                <img\n                  className=\"SinglebikeSpecImg\"\n                  src={user_img}\n                  alt=\"seats\"\n                ></img>\n                <p>{bike.seats} Seats</p>\n              </div>\n              <div className=\"SinglebikeSpec\">\n                <img\n                  className=\"SinglebikeSpecImg\"\n                  src={shift}\n                  alt=\"transmission\"\n                ></img>\n                <p>Auto</p>\n                <p></p>\n              </div>\n              <div className=\"SinglebikeSpec\">\n                <img\n                  className=\"SinglebikeSpecImg\"\n                  src={bikeImg}\n                  alt=\"bike doors\"\n                ></img>\n                <p>{bike.doors} Doors</p>\n              </div>\n              <div className=\"SinglebikeSpec\">\n                <img\n                  className=\"SinglebikeSpecImg\"\n                  src={dashboard}\n                  alt=\"mpg dashboard\"\n                ></img>\n                <p>{bike.mpg} mpg</p>\n              </div>\n            </div>\n            <div className=\"SinglebikeFeatures\">\n              <div className=\"SinglebikeFeature\">\n                <CheckIcon style={checkStyle} />\n                <p>Audio Input</p>\n              </div>\n              <div className=\"SinglebikeFeature\">\n                <CheckIcon style={checkStyle} />\n                <p>Bluetooth</p>\n              </div>\n              <div className=\"SinglebikeFeature\">\n                <CheckIcon style={checkStyle} />\n                <p>Heated Seats</p>\n              </div>\n              <div className=\"SinglebikeFeature\">\n                <CheckIcon style={checkStyle} />\n                <p>All Wheel Drive</p>\n              </div>\n              <div className=\"SinglebikeFeature\">\n                <CheckIcon style={checkStyle} />\n                <p>A/C & Heating</p>\n              </div>\n              <div className=\"SinglebikeFeature\">\n                <CheckIcon style={checkStyle} />\n                <p>Dual Airbags</p>\n              </div>\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n              {bike.availablebikes ? (\n                <p style={{ color: \"greenyellow\" }}>bike Available</p>\n              ) : (\n                <p style={{ color: \"red\" }}>bike Not Available</p>\n              )}\n            </div>\n            <div className=\"SinglebikePrice\">\n              <div className=\"SinglebikePriceH2\">\n                <img src={rupeeSign} alt=\"dollar sign\"></img>\n                <h2>\n                  {bike.price} <span>Per Day</span>\n                </h2>\n              </div>\n              <Button\n                variant=\"contained\"\n                color=\"success\"\n                disabled={bike.availablebikes === 0}\n                style={{\n                  width: \"auto\",\n                  margin: \"8px 0 40px 0\",\n                }}\n                onClick={() => bookbike(bike._id)}\n              >\n                Book Now\n              </Button>\n            </div>\n          </div>\n          <div className=\"SinglebikeSimilarH3\">\n            <h3>Similar Vehicles</h3>\n          </div>\n          {/* <div className=\"SinglebikeSimilar\">\n                <VehicleList\n                  // bikes={shortSimilarArray}\n                  vehicleId={vehicleId}\n                  minIndex={0}\n                  maxIndex={2}\n                  style={similarVehiclesStyle}\n                />\n              </div> */}\n        </div>\n      ) : (\n        <div>Loading...</div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}